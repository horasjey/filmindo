
(() => {
    let pixel_url_base = "https:\/\/heapstats.com\/";
    let pixel_key = "DJNgWNeflocF8ltp";
    let pixel_exposed_identifier = "heapstats_analytics";
    let pixel_track_events_children = false;
    let pixel_track_sessions_replays = false;
    let pixel_heatmaps = [];
    let pixel_goals = [];

    /* Helper messages */
    let pixel_key_verify_message = "The Pixel Code has been installed properly.";
    let pixel_key_dnt_message = "Do Not Track is enabled, we are respecting your privacy and we do not track you.";
    let pixel_key_optout_message = "You opted out of tracking, we are respecting your privacy and your decision and we do not track you.";

    const _0x58e2=['getFullYear','userAgent','getMonth','protocol','length','getItem','yes','getDate','test','startsWith','true','0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ','href','getSeconds','pixel_verify','location','replace','tablet','mobile','searchParams','getHours','desktop','www.','random','msDoNotTrack','get','setItem','doNotTrack','pixel_optout'];(function(_0x23d16e,_0x58e263){const _0x31a081=function(_0x194f8d){while(--_0x194f8d){_0x23d16e['push'](_0x23d16e['shift']());}};_0x31a081(++_0x58e263);}(_0x58e2,0xfa));const _0x31a0=function(_0x23d16e,_0x58e263){_0x23d16e=_0x23d16e-0x0;let _0x31a081=_0x58e2[_0x23d16e];return _0x31a081;};let get_random_string=(_0x57f7b,_0x4fbdd6)=>{let _0x56b4dc='';for(let _0x2be420=_0x57f7b;_0x2be420>0x0;--_0x2be420)_0x56b4dc+=_0x4fbdd6[Math['round'](Math[_0x31a0('0x5')]()*(_0x4fbdd6[_0x31a0('0xf')]-0x1))];return _0x56b4dc;},get_dynamic_var=_0x129bea=>{return'__'+pixel_key+'_'+_0x129bea;},get_random_id=()=>{let _0x5d3c8d=get_random_string(0x10,_0x31a0('0x16')),_0x1d1403=new Date();return _0x5d3c8d+=_0x1d1403[_0x31a0('0xb')](),_0x5d3c8d+=_0x1d1403[_0x31a0('0xd')](),_0x5d3c8d+=_0x1d1403[_0x31a0('0x12')](),_0x5d3c8d+=_0x1d1403[_0x31a0('0x2')](),_0x5d3c8d+=_0x1d1403['getMinutes'](),_0x5d3c8d+=_0x1d1403[_0x31a0('0x18')](),btoa(_0x5d3c8d);},is_do_not_track=()=>{return window['doNotTrack']||navigator[_0x31a0('0x9')]||navigator[_0x31a0('0x6')]?window['doNotTrack']=='1'||navigator[_0x31a0('0x9')]==_0x31a0('0x11')||navigator[_0x31a0('0x9')]=='1'||navigator['msDoNotTrack']=='1':![];},is_optout=()=>{let _0x281e93=new URL(document[_0x31a0('0x1a')])['searchParams'],_0x1a47af=_0x281e93[_0x31a0('0x7')](_0x31a0('0xa'));if(_0x1a47af!==null)return _0x1a47af=_0x1a47af==_0x31a0('0x15'),_0x1a47af?(localStorage['setItem'](get_dynamic_var(_0x31a0('0xa')),_0x31a0('0x15')),!![]):(localStorage[_0x31a0('0x8')](get_dynamic_var(_0x31a0('0xa')),'false'),![]);return localStorage[_0x31a0('0x10')](get_dynamic_var(_0x31a0('0xa')))==_0x31a0('0x15');},pixel_verify=()=>{let _0x52f990=new URL(document[_0x31a0('0x1a')])[_0x31a0('0x1')],_0x294bac=_0x52f990[_0x31a0('0x7')](_0x31a0('0x19'));_0x294bac!==null&&(_0x294bac!=''?pixel_key==_0x294bac&&alert(pixel_key_verify_message):alert(pixel_key_verify_message));},get_device_type=()=>{let _0x20a11a=/(?:phone|windows\s+phone|ipod|blackberry|(?:android|bb\d+|meego|silk|googlebot) .+? mobile|palm|windows\s+ce|opera mini|avantgo|mobilesafari|docomo)/gi,_0x54ecd8=/(?:ipad|playbook|(?:android|bb\d+|meego|silk)(?! .+? mobile))/gi;return _0x20a11a[_0x31a0('0x13')](navigator['userAgent'])?_0x31a0('0x0'):_0x54ecd8[_0x31a0('0x13')](navigator[_0x31a0('0xc')])?_0x31a0('0x1c'):_0x31a0('0x3');},get_current_url_domain_no_www=()=>{let _0x1e1d6c=window[_0x31a0('0x1a')][_0x31a0('0x17')][_0x31a0('0x1b')](window['location'][_0x31a0('0xe')]+'//',''),_0x1933ae=_0x31a0('0x4');return _0x1e1d6c[_0x31a0('0x14')](_0x1933ae)&&(_0x1e1d6c=_0x1e1d6c['replace'](_0x31a0('0x4'),'')),_0x1e1d6c;};

    
    let send_data=(e,t,i=!0)=>{try{e.url=window.location.href;let s=new XMLHttpRequest;s.onload=function(e){if(4===s.readyState)try{let e=JSON.parse(s.responseText);t&&t(e)}catch(e){}},s.open("POST",`${pixel_url_base}pixel-track/${pixel_key}`,i),s.setRequestHeader("Content-Type","application/json"),s.send(JSON.stringify(e))}catch(e){console.log(`Analytics pixel: ${e}`)}},send_data_beacon=e=>{try{e.url=window.location.href,navigator.sendBeacon(`${pixel_url_base}pixel-track/${pixel_key}`,JSON.stringify(e))}catch(e){console.log(`Analytics pixel: ${e}`)}};class AltumCodeVisitor{constructor(){if(localStorage.getItem(get_dynamic_var("visitor_uuid"))&&""!=localStorage.getItem(get_dynamic_var("visitor_uuid")).trim()){this.visitor_uuid=localStorage.getItem(get_dynamic_var("visitor_uuid")).trim();let e=this.get_custom_parameters();if(e&&(!localStorage.getItem(get_dynamic_var("visitor_custom_parameters"))||localStorage.getItem(get_dynamic_var("visitor_custom_parameters"))&&localStorage.getItem(get_dynamic_var("visitor_custom_parameters"))!=btoa(JSON.stringify(e)))){let e=this.get_extra_details();send_data({visitor_uuid:this.visitor_uuid,type:"initiate_visitor",data:e},null,!1)}}else{let e=get_random_id();this.visitor_uuid=e,localStorage.setItem(get_dynamic_var("visitor_uuid"),this.visitor_uuid);let t=this.get_extra_details();send_data({visitor_uuid:e,type:"initiate_visitor",data:t},null,!1)}}get_extra_details(){let e={resolution:{width:window.screen.width,height:window.screen.height}},t=this.get_custom_parameters();return t&&(e.custom_parameters=t,localStorage.setItem(get_dynamic_var("visitor_custom_parameters"),btoa(JSON.stringify(t)))),e}get_custom_parameters(){let e=document.querySelector(`script[src$="pixel/${pixel_key}"]`);if(!e.dataset.customParameters)return!1;try{return JSON.parse(e.dataset.customParameters)}catch(e){return!1}}}class AltumCodeEvents{constructor(){this.visitor_uuid=localStorage.getItem(get_dynamic_var("visitor_uuid")),this.visitor_session_uuid=localStorage.getItem(get_dynamic_var("visitor_session_uuid")),localStorage.setItem(get_dynamic_var("visitor_session_event_uuid"),get_random_id()),this.visitor_session_event_uuid=localStorage.getItem(get_dynamic_var("visitor_session_event_uuid"));let e=localStorage.getItem(get_dynamic_var("visitor_session_date")),t=new Date;if(!e||e&&t-new Date(e)>18e5?(this.visitor_session_uuid=get_random_id(),localStorage.setItem(get_dynamic_var("visitor_session_uuid"),this.visitor_session_uuid),this.event_landing_page()):this.event_pageview(),localStorage.setItem(get_dynamic_var("visitor_session_date"),t.toJSON()),window[pixel_exposed_identifier]={goal:e=>{this.event_goal_conversion(e)}},pixel_track_events_children&&this.initiate_event_handlers(),pixel_goals.length){let e=get_current_url_domain_no_www();for(let t of pixel_goals)"pageview"!=t.type||t.url!=e&&t.url!="www."+e||this.event_goal_conversion(t.key)}let i=[],s=!1;if(pixel_heatmaps.length){let e=get_device_type(),t=get_current_url_domain_no_www();for(let a of pixel_heatmaps)if(a.url==t||a.url=="www."+t){if(!a[`snapshot_id_${e}`]){rrwebRecord({emit(e){s=!0,i.push(e),2==i.length&&4==i[0].type&&2==i[1].type&&send_data({type:"heatmap_snapshot",heatmap_id:a.heatmap_id,data:i})}})}this.initiate_event_handler_click(a.heatmap_id);break}}if(pixel_track_sessions_replays){s||rrwebRecord({maskAllInputs:!0,slimDOMOptions:{comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0},emit:e=>{i.push(e)}});let e=()=>{i.length&&(send_data({visitor_uuid:this.visitor_uuid,visitor_session_uuid:this.visitor_session_uuid,visitor_session_event_uuid:this.visitor_session_event_uuid,type:"replays",data:i}),i=[])};setInterval(e,1e3);let t=!1;document.addEventListener("click",i=>{if(!i.isTrusted)return!1;let s="A"!=i.target.tagName||i.target.getAttribute("href").startsWith("#")?500:0;t=setTimeout(()=>e,s)}),document.querySelectorAll("form").forEach(t=>{t.addEventListener("submit",e)});const a="onpagehide"in self?"pagehide":"unload";window.addEventListener(a,e,{capture:!0})}}initiate_event_handlers(){this.initiate_event_handler_click(),this.initiate_event_handler_scroll(),this.initiate_event_handler_forms(),this.initiate_event_handler_resize()}initiate_event_handler_click(e=null){let t="",i=1,s=!1;document.addEventListener("click",a=>{if(!a.isTrusted)return!1;let r="A"!=a.target.tagName||a.target.getAttribute("href").startsWith("#")?500:0,o=a.target.innerText.length>61?`${a.target.innerText.substr(0,61)}...`:a.target.innerText,n={mouse:{x:a.pageX,y:a.pageY},text:o,element:a.target.tagName.toLowerCase()};JSON.stringify(n)==t&&(i++,clearInterval(s)),t=JSON.stringify(n),s=setTimeout(()=>{this.event_child("click",n,i,e),i=1},r)})}initiate_event_handler_scroll(e=null){let t=!1;document.addEventListener("scroll",i=>{if(!i.isTrusted)return!1;let s={scroll:{percentage:parseInt((document.documentElement.scrollTop||document.body.scrollTop)/((document.documentElement.scrollHeight||document.body.scrollHeight)-document.documentElement.clientHeight)*100)}};clearInterval(t),t=setTimeout(()=>{this.event_child("scroll",s,1,e)},500)})}initiate_event_handler_forms(){let e=e=>{this.event_child("form",{form:{}})};document.querySelectorAll("form").forEach(t=>{t.addEventListener("submit",e)})}initiate_event_handler_resize(){let e=!1;window.addEventListener("resize",t=>{if(!t.isTrusted)return!1;let i={viewport:this.get_viewport()};clearInterval(e),e=setTimeout(()=>{this.event_child("resize",i)},500)})}event_landing_page(){let e={path:window.location.pathname,title:document.title,referrer:document.referrer.includes(`${location.protocol}//${location.host}${location.pathname}`)?null:document.referrer,utm:this.get_utm_params(),viewport:this.get_viewport()};this.send_data({visitor_uuid:this.visitor_uuid,visitor_session_uuid:this.visitor_session_uuid,visitor_session_event_uuid:this.visitor_session_event_uuid,type:"landing_page",data:e})}event_pageview(){let e={path:window.location.pathname,title:document.title,referrer:document.referrer.includes(`${location.protocol}//${location.host}${location.pathname}`)?null:document.referrer,viewport:this.get_viewport()};this.send_data({visitor_uuid:this.visitor_uuid,visitor_session_uuid:this.visitor_session_uuid,visitor_session_event_uuid:this.visitor_session_event_uuid,type:"pageview",data:e})}event_child(e,t={},i=1,s=null){send_data_beacon({visitor_uuid:this.visitor_uuid,visitor_session_uuid:this.visitor_session_uuid,visitor_session_event_uuid:this.visitor_session_event_uuid,type:e,data:t,count:i,heatmap_id:s})}event_goal_conversion(e){for(let t of pixel_goals)if(t.key==e&&!localStorage.getItem(get_dynamic_var(`visitor_goal_${t.key}`))){send_data({visitor_uuid:this.visitor_uuid,visitor_session_uuid:this.visitor_session_uuid,visitor_session_event_uuid:this.visitor_session_event_uuid,type:"goal_conversion",goal_key:t.key}),localStorage.setItem(get_dynamic_var(`visitor_goal_${t.key}`),!0);break}}send_data(e){send_data(e,e=>{if(e&&e.details&&e.details.refresh)switch(e.details.refresh){case"visitor":localStorage.removeItem(get_dynamic_var("visitor_uuid"));new AltumCodeVisitor;break;case"session":localStorage.removeItem(get_dynamic_var("visitor_session_uuid")),localStorage.removeItem(get_dynamic_var("visitor_session_date"));new AltumCodeEvents}})}get_viewport(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}get_utm_params(){let e=new URLSearchParams(window.location.search);return{source:e.get("utm_source"),medium:e.get("utm_medium"),campaign:e.get("utm_campaign"),term:e.get("utm_term"),content:e.get("utm_content")}}}

    const _0x2b20=['log','querySelector','DOMContentLoaded','loading','ignoreDnt','script[src$=\x22pixel/','readyState','addEventListener','dataset','complete','documentElement'];(function(_0x2f94a7,_0x2b20a8){const _0x1c180a=function(_0x259899){while(--_0x259899){_0x2f94a7['push'](_0x2f94a7['shift']());}};_0x1c180a(++_0x2b20a8);}(_0x2b20,0x12c));const _0x1c18=function(_0x2f94a7,_0x2b20a8){_0x2f94a7=_0x2f94a7-0x0;let _0x1c180a=_0x2b20[_0x2f94a7];return _0x1c180a;};let altumcodestart=()=>{pixel_verify();let _0x5d9bf7=document[_0x1c18('0x9')](_0x1c18('0x2')+pixel_key+'\x22]'),_0x1fd489=is_do_not_track(),_0x11a41b=is_optout(),_0x472ff5=!_0x11a41b&&(!_0x1fd489||_0x1fd489&&_0x5d9bf7[_0x1c18('0x5')][_0x1c18('0x1')]);if(_0x472ff5){let _0x1b82a4=new AltumCodeVisitor(),_0x17f8fe=new AltumCodeEvents();}else _0x1fd489&&console['log'](pixel_url_base+':\x20'+pixel_key_dnt_message),_0x11a41b&&console[_0x1c18('0x8')](pixel_url_base+':\x20'+pixel_key_optout_message);},altumcodeprestart=()=>{altumcodestart();};document[_0x1c18('0x3')]===_0x1c18('0x6')||document[_0x1c18('0x3')]!==_0x1c18('0x0')&&!document[_0x1c18('0x7')]['doScroll']?altumcodeprestart():document[_0x1c18('0x4')](_0x1c18('0xa'),()=>{altumcodeprestart();});
})();
